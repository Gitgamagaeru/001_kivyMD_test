@startuml
title アプリ操作フロー（日本語版）

start

:アプリ起動;
note right
アプリを初期化
- 画面管理（ホーム/ダウンロード）
- サイドメニュー（Home / DLボタン）
end note

:画面構成を設定;
note right
- メイン画面(HomeScreen)
- ダウンロード画面(DlScreen)
- サイドメニュー配置
end note

if (デバッグモード？) then (はい)
  :ホーム画面を表示;
else (いいえ)
  :ログイン画面を表示;
endif

partition ログイン操作 {
    :ユーザーがID・パスワードを入力;
    :ログインボタンを押す;
    :ログイン情報を確認;
    
    if (ログイン成功？) then (はい)
        :ログイン画面を閉じる;
        :ホーム画面を表示;
    else (いいえ)
        :エラーメッセージを表示("失敗");
    endif
}

partition 画面遷移 {
    :サイドメニューまたは画面内ボタンで画面切替;
    :ホーム画面 ⇄ ダウンロード画面
    :サイドメニューを閉じる
}

partition 日付選択・ダウンロード {
    :開始日・終了日ボタンを押す;
    :カレンダーから日付を選択;
    :選択した日付をアプリに保存;
    
    :ダウンロードボタンを押す;
    :選択した期間のデータを取得
}

stop
@enduml
